<html>
<head>
   <title>Projects</title>
   <meta name="summary" content="Gallery/overview of coding projects" />
   <meta name="icon" content="fa-laptop"/>
</head>
<body>

  <div class="row">
    <div class="col-lg-12 text-left">
      <h1 class="page-heading">Projects</h1>
      <h2 class="page-subheading">
        These are some of my recent and active coding projects, research-related or otherwise. Check my <a href="https://github.com/darothen/">public github</a> or <a href="https://github.mit.edu/darothen">MIT github</a> for more.
      </h2>
    </div>
  </div>

  <hr class="page-block-separator">

  <div class="row page-block">

    <div class="col-md-3 col-sm-3 page-block-fig">
      <img
         src="{static}/images/pages/geos-chem_python.png"
         alt="GEOS-Chem + Python = <3"></img>
    </div>

    <div class="col-md-8 col-sm-6 page-block-summary">
      <h3><a href="http://www.danielrothenberg.com/gcpy">gcpy</a></h3>
      <p><b>COMING SOON</b>: This is a work-in-progress collaboration with the GEOS-Chem Support Team to re-build the visualization and analysis toolkit used by the GC community in a modern Python framework. We anticipate releasing a first version to the public coincident with GEOS-Chem v11-02 at the end of 2017. Check our <a href="http://www.danielrothenberg.com/gcpy/">mock-up</a> for more info!</p>
    </div>
  </div>

  <hr class="page-block-separator">

  <div class="row page-block">

    <div class="col-md-12 col-sm-12 page-block-summary">
      <h3><a href="http://www.github.com/darothen/xbpch">xbpch</a></h3>
        <a class="reference external image-reference" href="https://badge.fury.io/py/xbpch">
            <img alt="PyPI version" src="https://badge.fury.io/py/xbpch.svg" /></a>
        <a class="reference external image-reference" href="http://xbpch.readthedocs.io/en/latest/?badge=latest">
            <img alt="Documentation Status" src="https://readthedocs.org/projects/xbpch/badge/?version=latest" /></a>
        <a class="reference external image-reference" href="https://zenodo.org/badge/latestdoi/89022822">
            <img alt="Zenodo DOI" src="https://zenodo.org/badge/89022822.svg" /></a>
      <p>Up until v11-03 of GEOS-Chem (unreleased), all of the output generated by that model is written in a proprietary binary output format. While some community tools existed to help process this format into more convenient forms, they tended to be a bit slow and cumbersome to incorporate into my workflow. So, in <b>xbpch</b> I built a core set of functionality to allow users to easily ingest this data into xarray. Additionally, <b>xbpch</b> has the option to defer reading data from disk, which dramatically increases analysis performance, particularly when data is split across multiple files (as is the case for some diagnostics).</p>

      <h4>Highlights</h4>
      <ul>
        <li>Written in Python and accelerated with dask</li>
        <li>Simple emulation of xarray interface for reading datasets</li>
        <li>Includes simple command line tool for batch processing of bpch to NetCDF format</li>
        <li>Complete <a href="http://xbpch.readthedocs.io/en/latest/">documentation</a> with introduction to xarray and usage examples.</li>
      </ul>
    </div>
  </div>

  <hr class="page-block-separator">

  <div class="row page-block">
    <div class="col-md-4 col-sm-6 page-block-fig">
      <img src="{static}/images/pages/parcel_traces_vertical.png"
           alt="Simulated activation of a mixed sea-salt and sulfate population"></img>
    </div>
    <div class="col-md-8 col-sm-6 page-block-summary">
      <h3><a href="http://www.github.com/darothen/pyrcel">pyrcel</a></h3>

        <a class="reference external" href="https://travis-ci.org/darothen/pyrcel">
            <img alt="Build Status" src="https://travis-ci.org/darothen/pyrcel.svg?branch=master" /></a>
        <a class="reference external" href="http://pyrcel.readthedocs.org/en/stable/?badge=stable">
            <img alt="Documentation Status" src="https://readthedocs.org/projects/pyrcel/badge/?version=stable" /></a>
        <a class="reference external" href="https://zenodo.org/badge/latestdoi/12927551">
            <img alt="DOI" src="https://zenodo.org/badge/12927551.svg" /></a>

      <p>One of the most fundamental tools in the arsenal of an atmospheric physicist studying cloud phenomena is the <b>parcel model</b>, a 0-dimensional representation of an ascending plume of air. Parcel models model the thermodynamic evolution of such a plume, and can be used to studying many physical phenomena. To aid my research in developing novel aerosol-cloud interaction schemes for atmospheric models, I've developed an extensible warm-cloud parcel model with a simple physico-chemical representation of droplets. With this tool, one can simulate droplet activation dynamics in detail, and compare against parameterizations or observations from the field and laboratory.</p>

      <h4>Highlights</h4>
      <ul>
        <li>Written in Python, with either a numba or Cython core for solving model equations</li>
        <li>Library, command-line, and file I/O interfaces for running simulations</li>
        <li>Multiple output formats and options</li>
        <li>Includes library of activation schemes, thermodynamic functions, and aerosol/droplet size distribution tools</li>
      </ul>
    </div>
  </div>

  <hr class="page-block-separator">

  <div class="row page-block">
    <div class="col-md-7 col page-block-fig">
      <img src="{static}/images/pages/marc_analysis_example.png"
           alt="Intercomparison of AeroCom model predicted cloud ice burdens"></img>
          </div>
    <div class="col-md-5 page-block-summary">
      <h3><a href="http://www.github.com/darothen/experiment">experiment</a></h3>
      <p>This library contains a utility for working with ensembles of numerical model output. It's intended to be an extension to <a href="http://xarray.pydata.org">xarray</a> which can be used either interactively in notebooks or simple script, or as part of build systems to configure and permit access to large datasets on disk. I've previously used this library to help automate processing of very large (multi-terabyte) GEOS-Chem, CESM, and CAM-Chem simulations archived on the cluster. <b>experiment</b> implements parallel processing through dask to help handle and speed-up the processing of these large ensemble datasets.

      <h4>Highlights</h4>
      <ul>
        <li>Built on top of Python/<a href="http://xarray.pydata.org">xarray</a>/dask</li>
        <li>Serialize configured experiments for storing alongside data</li>
        <li>Tested on both distributed and HPC computing environments</li>
      </ul>
    </div>
  </div>


  <hr class="page-block-separator">

  <div class="row page-block">
    <div class="col-md-4 col-sm-6 page-block-fig">
      <img src="{static}/images/pages/anim_hall2.gif"
           alt="Simulation of secondary droplet mode forming from initial cloudwater population"></img>
    </div>
    <div class="col-md-8 col-sm-6 page-block-summary">
      <h3><a href="http://www.github.com/darothen/superdroplet">superdroplet</a></h3>
      <p>Capturing the physics of how droplets interact within a cloud and how their size distribution changes over time is a challenging problem for atmospheric modelers. Droplet collision and coalescence is often very crudely parameterized in global models, but even detailed spectral bin models have issues with faithfully capturing their effects. This model implements the Superdroplet method using an object-oriented framework to solve the stochastic collision/coalescence equation and evolve a droplet size distribution over time for some simple (non-turbulent) collision kernels.</p>

      <h4>Highlights</h4>
      <ul>
        <li>Multiple versions - <a href="">Python+Cython</a>, C++, Fortran 2008,  Julia, and Chapel (<emph>coming soon</emph>)</li>
        <li>Straightforward configuration with ASCII output (consistent between implementations)</li>
        <li>Go-to "hello, world" application for OOP/scientific computing</li>
      </ul>
    </div>
  </div>

  <hr class="page-block-separator">

  <div class="row page-block">
    <div class="col-md-6 page-block-fig">
      <img src="{static}/images/pages/homogenization_example.png"
           alt="Comparison between Python PHA implementation and reference Fortran for two stations"></img>
    </div>
    <div class="col-md-6 page-block-summary">
      <h3><a href="http://www.github.com/darothen/ccf-homogenization">ccf-homogenization</a></h3>
      <p>In 2011, I participated in the <a href="https://summerofcode.withgoogle.com/">Google Summer of Code</a> under the mentorship of the <a href="http://climatecode.org/">Climate Code Foundation</a>. My goal was to open-source and de-obfuscate a complex piece of Fortran code that quality-controlled the United States' historical surface temperature record by applying statistical analyses to detect breakpoints and anomalous trends in the network of station observations. We had broader goals of developing alternative homogenization algorithms (building a library) and of building a platform for meta-analysis of the homogenization technique for assessing statistical uncertainty, but the initial goal proved very daunting and time-consuming.</p>

      <p>Critically, this project was a wake-up call in how important software engineering is when developing scientific codes - especially those in operational or production contexts. This project identified several major bugs in the original PHA algorithm, which ultimately contributed to a small increase in our best estimate of how much the US warmed over the past century!</p>

    </div>
  </div>
</body>
</html>
